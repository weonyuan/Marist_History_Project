(function(a){function u(){var a=location.href;return hashtag=-1!==a.indexOf("#prettyPhoto")?decodeURI(a.substring(a.indexOf("#prettyPhoto")+1,a.length)):!1}function h(a){var h=pp_images[set_position];a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(h);return null==a?"":a[1]}a.a={version:"3.1.5"};a.ia.a=function(l){function p(){a(".pp_loaderIcon").h();projectedTop=scroll_pos.scrollTop+(d/2-b.containerHeight/2);0>projectedTop&&(projectedTop=0);$ppt.Q(settings.d,
1);$pp_pic_holder.find(".pp_content").A({height:b.contentHeight,width:b.contentWidth},settings.d);$pp_pic_holder.A({top:projectedTop,left:0>e/2-b.containerWidth/2?0:e/2-b.containerWidth/2,width:b.containerWidth},settings.d,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(b.height).width(b.width);$pp_pic_holder.find(".pp_fade").G(settings.d);isSet&&"image"==q()?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").h();settings.o&&(b.resized?
a("a.pp_expand,a.pp_contract").show():a("a.pp_expand").h());!settings.L||(m||r)||a.a.n();r=!0});isSet&&settings.t&&"image"==q()?(itemWidth=57,navWidth="facebook"==settings.j||"pp_default"==settings.j?50:30,itemsPerPage=Math.floor((b.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,0==totalPage?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").h()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),
galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.b("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").u("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,a.a.p(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").k("selected")):$pp_pic_holder.find(".pp_content").g("mouseenter mouseleave")}function A(c){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").b("visibility",
"hidden");$pp_pic_holder.find(".pp_fade").q(settings.d,function(){a(".pp_loaderIcon").show();c()})}function B(c){1<c?a(".pp_nav").show():a(".pp_nav").h()}function f(a,b){resized=!1;v(a,b);imageWidth=a;imageHeight=b;if((g>e||k>d)&&doresize&&settings.w&&!n){resized=!0;for(fitting=!1;!fitting;)g>e?(imageWidth=e-200,imageHeight=b/a*imageWidth):k>d?(imageHeight=d-200,imageWidth=a/b*imageHeight):fitting=!0,k=imageHeight,g=imageWidth;(g>e||k>d)&&f(g,k);v(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),
height:Math.floor(imageHeight),da:Math.floor(k),ea:Math.floor(g)+2*settings.I,fa:Math.floor(s),ga:Math.floor(w),oa:resized}}function v(c,b){c=parseFloat(c);b=parseFloat(b);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(c);detailsHeight=parseFloat($pp_details.b("marginTop"))+parseFloat($pp_details.b("marginBottom"));$pp_details=$pp_details.D().k(settings.j).width(c).B(a("body")).b({position:"absolute",top:-1E4});detailsHeight+=$pp_details.height();detailsHeight=34>=detailsHeight?
36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(c);titleHeight=parseFloat($pp_title.b("marginTop"))+parseFloat($pp_title.b("marginBottom"));$pp_title=$pp_title.D().B(a("body")).b({position:"absolute",top:-1E4});titleHeight+=$pp_title.height();$pp_title.remove();s=b+detailsHeight;w=c;k=s+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();g=c}function q(){var a=pp_images[set_position];return a.match(/youtube\.com\/watch/i)||
a.match(/youtu\.be/i)?"youtube":a.match(/vimeo\.com/i)?"vimeo":a.match(/\b.mov\b/i)?"quicktime":a.match(/\b.swf\b/i)?"flash":a.match(/\biframe=true\b/i)?"iframe":a.match(/\bajax=true\b/i)?"ajax":a.match(/\bcustom=true\b/i)?"custom":"#"==a.substr(0,1)?"inline":"image"}function x(){if(self.pageYOffset)return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};if(document.documentElement&&document.documentElement.scrollTop)return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};
if(document.body)return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}function y(){settings.m&&(facebook_like_link=settings.m.replace("{location_href}",encodeURIComponent(location.href)));settings.s=settings.s.replace("{pp_social}","");a("body").append(settings.s);$pp_pic_holder=a(".pp_pic_holder");$ppt=a(".ppt");$pp_overlay=a("div.pp_overlay");if(isSet&&settings.t){currentGalleryPage=0;toInject="";for(var b=0;b<pp_images.length;b++)pp_images[b].match(/\b(jpg|jpeg|png|gif)\b/gi)?
(classname="",img_src=pp_images[b]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.S.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").$(toInject);$pp_gallery=a(".pp_pic_holder .pp_gallery");$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){a.a.p("next");a.a.i();return!1});$pp_gallery.find(".pp_arrow_previous").click(function(){a.a.p("previous");
a.a.i();return!1});$pp_pic_holder.find(".pp_content").ja(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").G()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").q()});itemWidth=57;$pp_gallery_li.ha(function(b){a(this).find("a").click(function(){a.a.C(b);a.a.i();return!1})})}settings.K&&($pp_pic_holder.find(".pp_nav").na('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){a.a.n();return!1}));$pp_pic_holder.c("class","pp_pic_holder "+
settings.j);$pp_overlay.b({opacity:0,height:a(document).height(),width:a(window).width()});a("a.pp_close");settings.o&&a("a.pp_expand");$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous");$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next");doresize&&"undefined"!=typeof $pp_pic_holder&&(scroll_pos=x(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=d/2+scroll_pos.scrollTop-contentHeight/2,0>projectedTop&&(projectedTop=0),contentHeight>d||$pp_pic_holder.b({top:projectedTop,
left:e/2+scroll_pos.scrollLeft-contentwidth/2}))}l=jQuery.extend({f:"rel",d:"fast",aa:function(){},K:5E3,L:!1,opacity:0.8,Z:!0,w:!0,o:!0,F:500,P:344,M:"/",j:"pp_default",I:20,H:!1,v:"opaque",autoplay:!0,ma:!1,O:!0,t:!0,X:30,W:!0,ca:function(){},ba:function(){},ka:!0,s:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;</div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div><br/><br/> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_description"></div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',
S:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',T:'<img id="fullResImage" src="{path}" />',R:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',
Y:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',r:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',
J:'<div class="pp_inline">{content}</div>',N:"",m:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js">\x3c/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},
l);var t=this,n=!1,b,r,s,w,k,g,d=a(window).height(),e=a(window).width(),m;doresize=!0;scroll_pos=x();a(window).g("resize.prettyphoto");l.W&&a(document).g("keydown.prettyphoto");a.a.U=function(){settings=l;"pp_default"==settings.j&&(settings.I=16);theRel=a(this).c(settings.f);galleryRegExp=/\[(?:.*)\]/;pp_images=(isSet=galleryRegExp.exec(theRel)?!0:!1)?jQuery.map(t,function(b){if(-1!=a(b).c(settings.f).indexOf(theRel))return a(b).c("href")}):a.e(a(this).c("href"));pp_titles=isSet?jQuery.map(t,function(b){if(-1!=
a(b).c(settings.f).indexOf(theRel))return a(b).find("img").c("alt")?a(b).find("img").c("alt"):""}):a.e(a(this).find("img").c("alt"));pp_descriptions=isSet?jQuery.map(t,function(b){if(-1!=a(b).c(settings.f).indexOf(theRel))return a(b).c("title")?a(b).c("title"):""}):a.e(a(this).c("title"));pp_images.length>settings.X&&(settings.t=!1);set_position=jQuery.la(a(this).c("href"),pp_images);rel_index=isSet?set_position:a("a["+settings.f+"^='"+theRel+"']").index(a(this));y();settings.w&&a(window);a.a.open();
return!1};a.a.open=function(c,d,e,g){"undefined"==typeof settings&&(settings=l,pp_images=a.e(c),pp_titles=d?a.e(d):a.e(""),pp_descriptions=e?a.e(e):a.e(""),isSet=1<pp_images.length?!0:!1,set_position=g?g:0,y());settings.H&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").b("visibility","hidden");B(a(pp_images).size());a(".pp_loaderIcon").show();settings.O&&"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/");settings.m&&(facebook_like_link=settings.m.replace("{location_href}",
encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").l(facebook_like_link));$ppt.V(":hidden")&&$ppt.b("opacity",0).show();$pp_overlay.show().Q(settings.d,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.M+a(pp_images).size());"undefined"!=typeof pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().l(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").h();movie_width=
parseFloat(h("width"))?h("width"):settings.F.toString();movie_height=parseFloat(h("height"))?h("height"):settings.P.toString();n=!1;-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(a(window).height()*parseFloat(movie_height)/100-150),n=!0);-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(a(window).width()*parseFloat(movie_width)/100-150),n=!0);$pp_pic_holder.G(function(){settings.Z&&""!=pp_titles[set_position]&&"undefined"!=typeof pp_titles[set_position]?$ppt.l(unescape(pp_titles[set_position])):
$ppt.l("&nbsp;");imgPreloader="";skipInjection=!1;switch(q()){case "image":imgPreloader=new Image;nextImage=new Image;isSet&&set_position<a(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]);prevImage=new Image;isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.T.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){b=f(imgPreloader.width,imgPreloader.height);p()};imgPreloader.onerror=
function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");a.a.close()};imgPreloader.src=pp_images[set_position];break;case "youtube":b=f(movie_width,movie_height);movie_id=h("v");""==movie_id&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],0<movie_id.indexOf("?")&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),0<movie_id.indexOf("&")&&(movie_id=movie_id.substr(0,movie_id.indexOf("&"))));movie="http://www.youtube.com/embed/"+movie_id;
h("rel")?movie+="?rel="+h("rel"):movie+="?rel=1";settings.autoplay&&(movie+="&autoplay=1");toInject=settings.r.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.v).replace(/{path}/g,movie);break;case "vimeo":b=f(movie_width,movie_height);movie_id=pp_images[set_position];movie="http://player.vimeo.com/video/"+movie_id.match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/)[3]+"?title=0&amp;byline=0&amp;portrait=0";settings.autoplay&&(movie+="&autoplay=1;");vimeo_width=b.width+
"/embed/?moog_width="+b.width;toInject=settings.r.replace(/{width}/g,vimeo_width).replace(/{height}/g,b.height).replace(/{path}/g,movie);break;case "quicktime":b=f(movie_width,movie_height);b.height+=15;b.contentHeight+=15;b.containerHeight+=15;toInject=settings.Y.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.v).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case "flash":b=f(movie_width,movie_height);flash_vars=pp_images[set_position];
flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.R.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{wmode}/g,settings.v).replace(/{path}/g,filename+"?"+flash_vars);break;case "iframe":b=f(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=
settings.r.replace(/{width}/g,b.width).replace(/{height}/g,b.height).replace(/{path}/g,frame_url);break;case "ajax":doresize=!1;b=f(movie_width,movie_height);skipInjection=doresize=!0;a.get(pp_images[set_position],function(a){toInject=settings.J.replace(/{content}/g,a);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;p()});break;case "custom":b=f(movie_width,movie_height);toInject=settings.N;break;case "inline":myClone=a(pp_images[set_position]).D().append('<br clear="all" />').b({width:settings.F}).qa('<div id="pp_full_res"><div class="pp_inline"></div></div>').B(a("body")).show(),
doresize=!1,b=f(a(myClone).width(),a(myClone).height()),doresize=!0,a(myClone).remove(),toInject=settings.J.replace(/{content}/g,a(pp_images[set_position]).l())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,p())});return!1};a.a.C=function(b){currentGalleryPage=0;"previous"==b?(set_position--,0>set_position&&(set_position=a(pp_images).size()-1)):"next"==b?(set_position++,set_position>a(pp_images).size()-1&&(set_position=0)):set_position=b;rel_index=set_position;
doresize||(doresize=!0);settings.o&&a(".pp_contract").u("pp_contract").k("pp_expand");A(function(){a.a.open()})};a.a.p=function(a){"next"==a?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):"previous"==a?(currentGalleryPage--,0>currentGalleryPage&&(currentGalleryPage=totalPage)):currentGalleryPage=a;slide_speed="next"==a||"previous"==a?settings.d:0;slide_to=currentGalleryPage*itemsPerPage*itemWidth;$pp_gallery.find("ul").A({left:-slide_to},slide_speed)};a.a.n=function(){"undefined"==
typeof m?($pp_pic_holder.find(".pp_play").g("click").u("pp_play").k("pp_pause").click(function(){a.a.i();return!1}),m=setInterval(a.a.n,settings.K)):a.a.C("next")};a.a.i=function(){$pp_pic_holder.find(".pp_pause").g("click").u("pp_pause").k("pp_play").click(function(){a.a.n();return!1});clearInterval(m);m=void 0};a.a.close=function(){$pp_overlay.V(":animated")||(a.a.i(),$pp_pic_holder.stop().find("object,embed").b("visibility","hidden"),a("div.pp_pic_holder,div.ppt,.pp_fade").q(settings.d,function(){a(this).remove()}),
$pp_overlay.q(settings.d,function(){settings.H&&a("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").b("visibility","visible");a(this).remove();a(window).g("scroll.prettyphoto");-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto");doresize=!0;r=!1;delete settings}))};!z&&u()&&(z=!0,hashRel=hashIndex=u(),hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){a("a["+l.f+"^='"+hashRel+
"']:eq("+hashIndex+")").pa("click")},50));return this.g("click.prettyphoto").bind("click.prettyphoto",a.a.U)}})(jQuery);var z=!1;
